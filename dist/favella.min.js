/**
 * favella v0.1.0 - 2015-11-06
 * https://github.com/batopa/favella
 *
 * Copyright (c) 2015 Alberto Pagliarini
 * Licensed under the MIT license
 */
"speechSynthesis"in window?!function(a){"use strict";var b=a.console.error,c=!1,d=[],e={voice:null,voiceURI:"native",volume:1,rate:1,pitch:0,lang:"en-US"},f=!0,g=[];a.speechSynthesis.onvoiceschanged=function(){g=a.speechSynthesis.getVoices()};var h={setup:function(a){a&&(a.parentalControl&&(c=a.parentalControl),a.curses&&(d=a.curses),a.speakOptions&&Object.keys(e).forEach(function(b){a.speakOptions[b]&&(e[b]=a.speakOptions[b])}))},mute:function(){f=!1,console.log("Ho perso la favella")},unmute:function(){f=!0},getVoice:function(a){var b=null;return g.length&&(g.forEach(function(c){c.lang==a&&(b=c)}),b||(console.log("Sorry, "+a+" is not supported. Fallback to en-US."),b=this.getVoice("en-US"))),b},speak:function(b,c){if(!f)return!1;b&&"string"==typeof b||(b="Something goes wrong"),c=c||{},Object.keys(e).forEach(function(a){c[a]||(c[a]=e[a])});var d=new SpeechSynthesisUtterance;a.speechSynthesis.getVoices();d.voice=this.getVoice(c.lang),console.log("Voice selected: "+d.voice.name),d.volume=c.volume,d.rate=c.rate,d.pitch=c.pitch,d.lang=d.voice.lang,d.text=b,d.onend=function(a){console.log("Finished to speak")},d.onerror=function(a){console.log(a)},speechSynthesis.speak(d)},me:function(a){var b=a?"en-US":"it-IT",c=this.getVoice(b);if(c){var d=[];"it-IT"==c.lang?d.push("favella"):d=["Sorry, I cannot pronunce properly because missing italian voice. I will try anyway.","favella.","Shit!"];var e=this;d.forEach(function(a){e.speak(a,{volume:1,rate:1,pitch:0,lang:c.lang})})}else console.log("Missing voice :(")}};a.console.error=function(){var e=Array.prototype.slice.call(arguments),f=e[0];!c&&d.length&&(f+=". "+d[Math.floor(Math.random()*d.length)]+"!"),h.speak(f),b.apply(a.console,arguments)},"undefined"!=typeof module&&module.exports?module.exports=h:a.Favella=h}(window):console.log("Sorry, speechSynthesis is not supported on this browser");
//# sourceMappingURL=favella.min.js.map